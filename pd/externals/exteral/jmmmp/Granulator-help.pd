#N canvas 78 122 393 248 10;
#N canvas 504 106 494 344 META 0;
#X text 12 75 LIBRARY jmmmp;
#X text 13 115 WEBSITE http://puredata.info/Members/jmmmp;
#X text 12 55 AUTHOR Jo„o Pais <jmmmpais@gmail.com>;
#X text 12 36 KEYWORDS Granulator grain;
#X text 12 95 LICENSE CC;
#X text 12 135 VERSION 2018;
#X text 14 165 INLET_0 -;
#X text 14 185 INLET_1 -;
#X text 14 205 OUTLET_0 -;
#X text 12 6 DESCRIPTION Pure Data port of Robert Henke's Granulator
;
#X restore 322 216 pd META;
#X text 12 10 [Granulator] - Pure Data port of Robert Henke's Granulator
;
#X text 12 177 (C) 2017-2018 Jo√£o Pais - jmmmpais@gmail.com;
#X text 12 197 Released under a Creative Commons Attribution-NonCommercial
3 Unported License.;
#X text 12 40 This help patch is just a placeholder. The documentation
is in the patch Granulator.pd. Have a look at it for more details.
;
#N canvas 77 57 382 396 commands 0;
#X obj 13 293 outlet;
#X obj 13 273 r \$0-command-out;
#X text 13 35 An inlet for message controlling was added \, so that
it's possible to control the patch from another patch. The following
commands are available:;
#X text 13 15 Message control inlet;
#X text 13 253 Message control outlet;
#X text 13 355 - output of [iemlib/soundfile_info] for the loaded audio
file (for more info see the help file);
#N canvas 0 50 330 124 file 0;
#X msg 23 53 open;
#X text 63 53 Open dialog;
#X text 173 33 Open direct file;
#X obj 13 83 s \$0-command-out;
#X text 13 13 File commands;
#X msg 13 33 openfile symbol xxxx.wav;
#X connect 0 0 3 0;
#X connect 5 0 3 0;
#X restore 13 83 pd file;
#N canvas 396 198 352 372 record 0;
#X obj 13 333 s \$0-command-out;
#X msg 13 53 buffer-resize \$1;
#X text 123 53 Resize buffer (samples);
#X floatatom 13 33 8 0 0 0 - - -, f 8;
#X floatatom 63 233 8 0 0 0 - - -, f 8;
#X msg 63 253 rec.start \$1;
#X msg 53 193 rec.start;
#X text 123 193 Start recording;
#X text 123 213 Stop recording;
#X text 143 253 Start recording from sample X;
#X msg 53 213 rec.stop;
#X text 13 13 Record commands;
#X floatatom 63 283 3 1 2 0 - - -, f 3;
#X msg 63 303 channels \$1;
#X text 143 303 Set mono/stereo recording;
#X msg 23 73 reset;
#X floatatom 43 133 8 0 0 0 - - -, f 8;
#X msg 33 113 normalize;
#X msg 43 153 normalize \$1;
#X text 103 113 Normalize buffer;
#X text 123 153 Normalize to defined value;
#X text 63 73 Set buffer values to 0;
#X connect 1 0 0 0;
#X connect 3 0 1 0;
#X connect 4 0 5 0;
#X connect 5 0 0 0;
#X connect 6 0 0 0;
#X connect 10 0 0 0;
#X connect 12 0 13 0;
#X connect 13 0 0 0;
#X connect 15 0 0 0;
#X connect 16 0 18 0;
#X connect 17 0 0 0;
#X connect 18 0 0 0;
#X restore 13 103 pd record;
#N canvas 34 258 346 313 grain 0;
#X floatatom 13 33 5 0.25 150 0 - - -, f 5;
#X text 13 13 Grain driver commands;
#X msg 13 53 Size \$1;
#X obj 13 283 s \$0-command-out;
#X floatatom 33 113 5 0 100 0 - - -, f 5;
#X msg 33 133 Random \$1;
#X floatatom 43 153 5 0 1000 0 - - -, f 5;
#X msg 43 173 Spread \$1;
#X text 106 173 Grain frequency L/R detuning [0-1000];
#X text 66 53 Grain size (Hz) [0.25-150];
#X text 96 133 Random [0-100];
#X floatatom 23 73 5 0 100 0 - - -, f 5;
#X text 86 93 Key [0-100];
#X floatatom 53 193 5 0 100 0 - - -, f 5;
#X msg 53 213 gr.LFO \$1;
#X text 116 213 LFO [0-100];
#X msg 23 93 gr.Key \$1;
#X msg 63 253 Ped \$1;
#X text 106 253 Pedal hold;
#X obj 63 233 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 4 0 5 0;
#X connect 5 0 3 0;
#X connect 6 0 7 0;
#X connect 7 0 3 0;
#X connect 11 0 16 0;
#X connect 13 0 14 0;
#X connect 14 0 3 0;
#X connect 16 0 3 0;
#X connect 17 0 3 0;
#X connect 19 0 17 0;
#X restore 93 83 pd grain;
#N canvas 19 258 515 320 playback 0;
#X text 13 13 Playback commands;
#X msg 13 53 FilePos \$1;
#X floatatom 13 33 5 0 100 0 - - -, f 5;
#X obj 13 283 s \$0-command-out;
#X msg 23 103 midinote \$1 \$2 \$3;
#X msg 23 83 60 60 5000;
#X text 83 53 Playback position [0-100];
#X msg 83 143 60 0;
#X text 136 103 Sends note according to midi specifications - pitch
[0-127] \, velocity [0-127] \, duration (ms). Notice that velocity
only affects the result if the Vel paramter is turned on.;
#X msg 33 143 60 100;
#X text 116 163 Activates a note with pitch and velocity commands \,
no defined duration. To stop \, send the same note velocity 0;
#X msg 33 163 note \$1 \$2;
#X floatatom 43 193 5 -100 100 0 - - -, f 5;
#X msg 43 213 pl.Key \$1;
#X floatatom 53 233 5 0 100 0 - - -, f 5;
#X msg 53 253 pl.LFO \$1;
#X text 113 213 Key [-100 - 100];
#X text 123 253 LFO [0-100];
#X connect 1 0 3 0;
#X connect 2 0 1 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 7 0 11 0;
#X connect 9 0 11 0;
#X connect 11 0 3 0;
#X connect 12 0 13 0;
#X connect 13 0 3 0;
#X connect 14 0 15 0;
#X connect 15 0 3 0;
#X restore 93 103 pd playback;
#N canvas 0 50 416 160 main 0;
#X obj 13 73 s \$0-command-out;
#X msg 13 53 Vol \$1;
#X floatatom 13 33 5 -100 12 0 - - -, f 5;
#X text 66 53 Main volume control [-100 - 12 \, in dB];
#X text 13 13 Main commands;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X restore 93 223 pd main;
#N canvas 0 50 280 237 amp-envelope 0;
#X obj 13 203 s \$0-command-out;
#X floatatom 13 33 8 1 120000 0 - - -, f 8;
#X floatatom 23 73 8 10 180000 0 - - -, f 8;
#X floatatom 33 113 5 -70 0 0 - - -, f 5;
#X text 11 13 Amplitude envelope commands;
#X msg 13 53 Attack \$1;
#X msg 23 93 Decay \$1;
#X msg 33 133 Sustain \$1;
#X floatatom 43 153 8 10 180000 0 - - -, f 8;
#X msg 43 173 Release \$1;
#X text 76 53 Attack [1-120K ms];
#X text 86 93 Decay [10-180K ms];
#X text 106 133 Sustain level [-70 - 0];
#X text 116 173 Release [10-180K ms];
#X connect 1 0 5 0;
#X connect 2 0 6 0;
#X connect 3 0 7 0;
#X connect 5 0 0 0;
#X connect 6 0 0 0;
#X connect 7 0 0 0;
#X connect 8 0 9 0;
#X connect 9 0 0 0;
#X restore 193 83 pd amp-envelope;
#N canvas 0 50 318 279 pitch 0;
#X obj 13 243 s \$0-command-out;
#X floatatom 13 33 5 -48 48 0 - - -, f 5;
#X text 11 13 Pitch commands;
#X msg 13 53 Semit \$1;
#X floatatom 23 73 5 -51 51 0 - - -, f 5;
#X msg 23 93 Fine \$1;
#X text 76 53 Tuning in semitones [-48 - 48];
#X text 76 93 Fine tuning in cents [-51 - 51];
#X floatatom 43 153 5 0 100 0 - - -, f 5;
#X obj 33 113 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X floatatom 53 193 5 0 100 0 - - -, f 5;
#X msg 53 213 Rnd \$1;
#X text 106 213 Random pitch variation [0-100];
#X text 73 133 V [0/1];
#X msg 33 133 V \$1;
#X text 126 173 Key [0-100];
#X msg 43 173 pitch.Key \$1;
#X connect 1 0 3 0;
#X connect 3 0 0 0;
#X connect 4 0 5 0;
#X connect 5 0 0 0;
#X connect 8 0 16 0;
#X connect 9 0 14 0;
#X connect 10 0 11 0;
#X connect 11 0 0 0;
#X connect 14 0 0 0;
#X connect 16 0 0 0;
#X restore 193 103 pd pitch;
#N canvas 33 302 361 244 spray 0;
#X obj 13 203 s \$0-command-out;
#X floatatom 23 73 7 0 20000 0 - - -, f 7;
#X text 13 13 Spray commands;
#X msg 13 53 Spray \$1;
#X msg 23 93 Spray.ms \$1;
#X floatatom 43 153 5 1 10 0 - - -, f 5;
#X text 73 53 Spray;
#X obj 13 33 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0 1
;
#X text 103 93 Spray(ms) [0-20000];
#X text 113 133 Spraysign [0-2];
#X obj 33 113 hradio 15 1 0 3 empty empty empty 0 -8 0 10 -262144 -1
-1 2;
#X text 133 173 Sprayslope [1-10];
#X msg 33 133 SpraySign \$1;
#X msg 43 173 SpraySlope \$1;
#X connect 1 0 4 0;
#X connect 3 0 0 0;
#X connect 4 0 0 0;
#X connect 5 0 13 0;
#X connect 7 0 3 0;
#X connect 10 0 12 0;
#X connect 12 0 0 0;
#X connect 13 0 0 0;
#X restore 93 123 pd spray;
#N canvas 33 198 290 357 LFO 0;
#X obj 13 323 s \$0-command-out;
#X floatatom 23 73 8 50 99000 0 - - -, f 8;
#X floatatom 43 153 5 0 100 0 - - -, f 5;
#X obj 13 33 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0 1
;
#X obj 53 193 hradio 15 1 0 9 empty empty empty 0 -8 0 10 -262144 -1
-1 0;
#X text 13 13 LFO commands;
#X msg 13 53 LFO \$1;
#X text 63 53 LFO on/off [0 \, 1];
#X msg 23 93 Cycle \$1;
#X text 83 93 Cycle [50-99000];
#X obj 33 113 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 33 133 Slow \$1;
#X text 83 133 Slow [0 \, 1];
#X msg 43 173 LFO.Key \$1;
#X text 113 173 Key [0-100];
#X text 133 213 Waveform [0-8];
#X msg 53 213 Waveform \$1;
#X obj 63 233 hradio 15 1 0 2 empty empty empty 0 -8 0 10 -262144 -1
-1 0;
#X msg 63 253 Retrigger \$1;
#X text 143 253 Retrigger [0 \, 1];
#X floatatom 73 273 5 0 360 0 - - -, f 5;
#X text 153 293 LR-Phase [0-360];
#X msg 73 293 LR-Phase \$1;
#X connect 1 0 8 0;
#X connect 2 0 13 0;
#X connect 3 0 6 0;
#X connect 4 0 16 0;
#X connect 6 0 0 0;
#X connect 8 0 0 0;
#X connect 10 0 11 0;
#X connect 11 0 0 0;
#X connect 13 0 0 0;
#X connect 16 0 0 0;
#X connect 17 0 18 0;
#X connect 18 0 0 0;
#X connect 20 0 22 0;
#X connect 22 0 0 0;
#X restore 93 143 pd LFO;
#N canvas 33 198 290 317 scan 0;
#X obj 13 283 s \$0-command-out;
#X floatatom 23 73 8 25 10000 0 - - -, f 8;
#X floatatom 33 113 5 0.5 2 0 - - -, f 5;
#X obj 13 33 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0 1
;
#X floatatom 43 153 5 0 100 0 - - -, f 5;
#X text 13 13 Scan commands;
#X msg 13 53 Scan \$1;
#X text 63 53 Scan on/off [0 \, 1];
#X text 73 93 Time [25-10000];
#X msg 23 93 Time \$1;
#X text 93 133 Curve [0.5-2];
#X msg 33 133 Curve \$1;
#X msg 43 173 Scan.Key \$1;
#X text 123 173 Key [0-100];
#X floatatom 53 193 5 0.01 100 0 - - -, f 5;
#X floatatom 63 233 5 -100 100 0 - - -, f 5;
#X text 133 213 Distance [0.01-100];
#X text 113 253 Vel [-100 - 100];
#X msg 52 213 Distance \$1;
#X msg 63 253 Vel \$1;
#X connect 1 0 9 0;
#X connect 2 0 11 0;
#X connect 3 0 6 0;
#X connect 4 0 12 0;
#X connect 6 0 0 0;
#X connect 9 0 0 0;
#X connect 11 0 0 0;
#X connect 12 0 0 0;
#X connect 14 0 18 0;
#X connect 15 0 19 0;
#X connect 18 0 0 0;
#X connect 19 0 0 0;
#X restore 93 163 pd scan;
#N canvas 33 198 290 202 grain.shape 0;
#X obj 13 163 s \$0-command-out;
#X floatatom 33 113 4 -100 100 0 - - -, f 4;
#X floatatom 23 73 5 0 100 0 - - -, f 5;
#X obj 13 33 hradio 15 1 0 4 empty empty empty 0 -8 0 10 -262144 -1
-1 0;
#X text 13 13 Grain shape commands;
#X text 93 53 Simmetry [0 \, 1 \, 2 \, 3];
#X msg 13 53 Simmetry \$1;
#X text 83 93 Shape [0-100];
#X msg 23 93 Shape \$1;
#X text 93 133 Spike [-100 - 100];
#X msg 33 133 Spike \$1;
#X connect 1 0 10 0;
#X connect 2 0 8 0;
#X connect 3 0 6 0;
#X connect 6 0 0 0;
#X connect 8 0 0 0;
#X connect 10 0 0 0;
#X restore 93 183 pd grain.shape;
#N canvas 33 198 290 241 AM 0;
#X obj 13 203 s \$0-command-out;
#X floatatom 23 73 5 0 100 0 - - -, f 5;
#X obj 13 33 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0 1
;
#X obj 33 113 hradio 15 1 0 2 empty empty empty 0 -8 0 10 -262144 -1
-1 0;
#X floatatom 43 153 5 0 100 0 - - -, f 5;
#X text 13 13 AM commands;
#X msg 13 53 AM \$1;
#X text 53 53 AM [0 \, 1];
#X msg 23 93 Amount \$1;
#X text 93 93 FluxusAmount [0-100];
#X text 93 133 FluxusMode [0 \, 1];
#X msg 33 133 Mode \$1;
#X text 123 173 Residual [0-100];
#X msg 43 173 Residual \$1;
#X connect 1 0 8 0;
#X connect 2 0 6 0;
#X connect 3 0 11 0;
#X connect 4 0 13 0;
#X connect 6 0 0 0;
#X connect 8 0 0 0;
#X connect 11 0 0 0;
#X connect 13 0 0 0;
#X restore 93 203 pd AM;
#N canvas 33 143 290 359 FM 0;
#X obj 13 323 s \$0-command-out;
#X floatatom 23 73 8 2 20000 0 - - -, f 8;
#X floatatom 33 113 5 0 250 0 - - -, f 5;
#X obj 13 33 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0 1
;
#X floatatom 43 153 5 0 200 0 - - -, f 5;
#X floatatom 53 193 5 0.01 100 0 - - -, f 5;
#X floatatom 63 233 5 -100 100 0 - - -, f 5;
#X text 13 13 FM commands;
#X text 73 53 FM on/off [0 \, 1];
#X text 73 93 Freq [2-20000];
#X msg 23 93 Freq \$1;
#X text 73 133 FM [0-250];
#X msg 33 133 FM \$1;
#X msg 13 53 FM.01 \$1;
#X text 113 173 Key [0-200];
#X msg 43 173 FM.Key \$1;
#X text 133 253 Key Amt [-100 - 100];
#X floatatom 73 273 5 -100 100 0 - - -, f 5;
#X text 143 293 Vel [-100 - 100];
#X msg 73 293 Key.Vel \$1;
#X msg 63 253 Key.Amt \$1;
#X msg 53 213 Env \$1;
#X text 103 213 Env [0-100];
#X connect 1 0 10 0;
#X connect 2 0 12 0;
#X connect 3 0 13 0;
#X connect 4 0 15 0;
#X connect 5 0 21 0;
#X connect 6 0 20 0;
#X connect 10 0 0 0;
#X connect 12 0 0 0;
#X connect 13 0 0 0;
#X connect 15 0 0 0;
#X connect 17 0 19 0;
#X connect 19 0 0 0;
#X connect 20 0 0 0;
#X connect 21 0 0 0;
#X restore 193 123 pd FM;
#N canvas 33 143 270 246 Filt+FM.envelope 0;
#X obj 13 203 s \$0-command-out;
#X floatatom 13 33 8 1 120000 0 - - -, f 8;
#X floatatom 23 73 8 30 180000 0 - - -, f 8;
#X floatatom 33 113 5 0 100 0 - - -, f 5;
#X floatatom 43 153 8 30 180000 0 - - -, f 8;
#X text 13 13 Filter / FM Envelope commands;
#X text 103 53 Attack [1-120K];
#X text 113 93 Decay [30-180K];
#X text 133 133 Sustain [0-100];
#X text 143 173 Release [30-180K];
#X msg 13 53 env.attack \$1;
#X msg 33 133 env.sustain \$1;
#X msg 43 173 env.release \$1;
#X msg 23 93 env.decay \$1;
#X connect 1 0 10 0;
#X connect 2 0 13 0;
#X connect 3 0 11 0;
#X connect 4 0 12 0;
#X connect 10 0 0 0;
#X connect 11 0 0 0;
#X connect 12 0 0 0;
#X connect 13 0 0 0;
#X restore 193 143 pd Filt+FM.envelope;
#N canvas 33 198 290 202 blocksize 0;
#X obj 13 83 s \$0-command-out;
#X obj 13 33 hradio 15 1 0 3 empty empty empty 0 -8 0 10 -262144 -1
-1 0;
#X text 13 13 Blocksize commands;
#X text 93 53 Blocksize [0 \, 1 \, 2];
#X msg 13 53 Blocksize \$1;
#X connect 1 0 4 0;
#X connect 4 0 0 0;
#X restore 193 163 pd blocksize;
#X text 13 335 The granulator's third outlet sends patch information:
;
#X connect 1 0 0 0;
#X restore 12 90 pd commands;
#X obj 12 140 Granulator;
#X obj 12 160 dac~;
#X obj 40 120 adc~;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 6 1 7 1;
#X connect 8 0 6 1;
#X connect 8 1 6 2;
