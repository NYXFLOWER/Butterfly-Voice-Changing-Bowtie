#N canvas 452 145 799 545 10;
#N canvas 24 462 481 252 zerocross~ 0;
#X msg 106 126 clear;
#X obj 106 98 bang~;
#X obj 158 187 snapshot~;
#X obj 106 187 print~;
#X obj 106 162 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 159 12 inlet~;
#X obj 158 220 outlet;
#X obj 14 13 loadbang;
#X msg 14 40 set 1024 2 1;
#X obj 14 67 block~;
#X obj 158 40 *~ 1e+06;
#X obj 158 68 clip~ -1 1;
#X obj 157 97 fexpr~ -$x1*$x1[-1];
#X obj 157 125 clip~ 0 1;
#X obj 158 156 fexpr~ $x1+$y[-1];
#X text 222 39 <= multiply by a very large number;
#X text 228 68 <= clip to create a square wave;
#X text 278 96 <= multiply adjacent samples;
#X text 219 186 <= grab the count;
#X text 236 111 (each '1' indicates a zero-crossing);
#X text 217 125 <= remove all the '-1's;
#X text 269 156 <= count the remaining '1's;
#X connect 0 0 14 0;
#X connect 1 0 0 0;
#X connect 1 0 2 0;
#X connect 2 0 6 0;
#X connect 4 0 3 0;
#X connect 5 0 10 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 14 0 2 0;
#X connect 14 0 3 0;
#X restore 431 112 pd zerocross~;
#X msg 43 34 \; pd dsp 1;
#X obj 21 6 loadbang;
#N canvas 737 763 471 184 energy~ 0;
#X msg 117 43 clear;
#X obj 117 15 bang~;
#X obj 169 111 snapshot~;
#X obj 169 74 fexpr~ ($x1*$x1)+$y[-1];
#X obj 117 111 print~;
#X obj 117 85 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 170 43 inlet~;
#X obj 169 144 outlet;
#X obj 25 16 loadbang;
#X msg 25 43 set 1024 2 1;
#X obj 25 70 block~;
#X text 318 74 <= sum of the aquares;
#X text 232 111 <= grab the count;
#X connect 0 0 3 0;
#X connect 1 0 0 0;
#X connect 1 0 2 0;
#X connect 2 0 7 0;
#X connect 3 0 2 0;
#X connect 3 0 4 0;
#X connect 5 0 4 0;
#X connect 6 0 3 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X restore 336 112 pd energy~;
#X obj 21 143 gemwin;
#X msg 55 107 create;
#X msg 259 107 destroy;
#X msg 21 107 1;
#X obj 21 73 t b b b;
#X text 68 144 <= initialise gem graphics window;
#X text 132 6 SPEEECH/NON-SPEECH DETECTOR;
#X msg 106 107 title SPEECH/NON-SPEECH;
#X floatatom 336 141 5 0 0 0 - - -;
#X floatatom 431 141 5 0 0 0 - - -;
#X obj 376 33 adc~;
#X obj 336 169 average 100;
#X floatatom 336 198 5 0 0 0 - - -;
#X obj 431 169 average 100;
#X floatatom 431 198 5 0 0 0 - - -;
#X floatatom 336 254 5 0 0 0 - - -;
#X obj 321 283 >;
#X floatatom 431 254 5 0 0 0 - - -;
#X obj 416 283 >;
#X obj 277 460 gemhead;
#X msg 435 460 1 0 0;
#X msg 340 460 0 1 0;
#X floatatom 321 312 5 0 0 0 - - -;
#X obj 277 489 color 1 0 0;
#X obj 321 401 select 1;
#X floatatom 416 312 5 0 0 0 - - -;
#X obj 321 373 ||;
#X msg 382 141 clear;
#X obj 416 401 select 0;
#X obj 416 373 +;
#X text 516 112 <= get the speech features;
#X text 504 169 <= compute averages;
#X text 468 226 <= set thresholds (above averages);
#X text 442 282 <= compare current values with thresholds;
#X msg 564 489 80;
#X obj 416 430 t b b b;
#X obj 321 430 t b b b;
#X obj 277 520 text2d;
#X msg 455 489 text non-speech;
#X text 472 401 <= if both are below threshold \, display 'non-speech'
;
#X text 40 400 if one is above threshold \, display 'SPEECH' =>;
#X msg 360 489 text SPEECH;
#X obj 416 345 t b f;
#X obj 333 344 t b f;
#X obj 376 87 min~ -0.001;
#X obj 368 62 max~ 0.001;
#X msg 474 140 clear;
#X obj 431 226 + 100;
#X obj 336 226 + 1;
#X connect 0 0 13 0;
#X connect 2 0 1 0;
#X connect 2 0 8 0;
#X connect 3 0 12 0;
#X connect 5 0 4 0;
#X connect 6 0 4 0;
#X connect 7 0 4 0;
#X connect 8 0 7 0;
#X connect 8 1 5 0;
#X connect 8 2 11 0;
#X connect 11 0 4 0;
#X connect 12 0 15 0;
#X connect 12 0 20 0;
#X connect 13 0 17 0;
#X connect 13 0 22 0;
#X connect 14 0 49 0;
#X connect 14 0 48 0;
#X connect 15 0 16 0;
#X connect 16 0 52 0;
#X connect 17 0 18 0;
#X connect 18 0 51 0;
#X connect 19 0 20 1;
#X connect 20 0 26 0;
#X connect 21 0 22 1;
#X connect 22 0 29 0;
#X connect 23 0 27 0;
#X connect 24 0 27 1;
#X connect 25 0 27 1;
#X connect 26 0 30 0;
#X connect 26 0 33 0;
#X connect 27 0 41 0;
#X connect 28 0 31 0;
#X connect 28 0 40 0;
#X connect 29 0 47 0;
#X connect 29 0 46 0;
#X connect 30 0 28 0;
#X connect 31 0 15 0;
#X connect 32 0 39 0;
#X connect 32 0 50 0;
#X connect 33 0 32 0;
#X connect 38 0 41 1;
#X connect 39 0 38 0;
#X connect 39 1 24 0;
#X connect 39 2 42 0;
#X connect 40 0 38 0;
#X connect 40 1 25 0;
#X connect 40 2 45 0;
#X connect 42 0 41 0;
#X connect 45 0 41 0;
#X connect 46 0 33 0;
#X connect 46 1 33 1;
#X connect 47 0 30 0;
#X connect 47 1 30 1;
#X connect 48 0 0 0;
#X connect 48 0 3 0;
#X connect 49 0 0 0;
#X connect 49 0 3 0;
#X connect 50 0 17 0;
#X connect 51 0 21 0;
#X connect 52 0 19 0;
